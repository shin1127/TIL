ーーー

基本情報テキスト　ネットワーク分野

# 通信プロトコル

## OSI 基本参照モデル

物理層->データリンク層->ネットワーク層->トランスポート層->セッション層->プレゼンテーション層->アプリケーション層

## TCP/IP

Ajax:ブラウザと Web サーバを非同期通信する

DNS 例: yahoo.co.jp（ドメイン名）と 203.216.274...(IP アドレス)を結びつける仕組み

## IP

グローバル IP

プライベート IP:範囲が決まっている

the range of private IP

- 10.0.0.0 ~ 10/255/255/255
- 172.16.0.0 ~ 172.31.255.255
- 192.168.0.0 ~ 192.168.255.255

NAT: プライベート IP をグローバル IP に変換する  
NAPT:プライベート IP をグローバル IP に変換する, ポート番号も変換する

特に 127 からはじまるアドレスは自分自身を表し、ループバックアドレスという

DHCP: ネットワークに接続するときだけ、コンピュータに IP アドレスをふりわけ、終了後それを回収する

- IPv4:32 ビット, 8 ビットずつ 4 組に分け、10 進数にする
- IPv6:128 ビット

## IPv4

xxx.xxx.yyy.yyy  
ネットワーク部とホスト部に分かれる  
ネットワーク部->A 村、B 村、C 村  
ホスト部->A 村の誰々さんみたいな

### IP アドレスのクラス

### クラス A:0 から始まる（大規模ネットワーク用）

ネットワーク部->8bit  
ホスト部->24bit

### クラス B:中規模ネットワーク用

ネットワーク部 16bit,  
ホスト部 16bit

### クラス C:小規模ネットワーク用

ネットワーク部 24bit,  
ホスト部 8bit

## ブロードキャストアドレス

ホスト部がすべて 1 のアドレス

## ネットワークアドレス

ホスト部がすべて 0 の IP アドレス

# LAN

## LAN は 3 種類ある

- パス型
- リング型
- スター型

CSMA/CD 方式:
ケーブルが使用中かどうかを調べ、使用されていなければ送信する,使用されていればお互いにしばらく待ってからタイミングずらして送信する

## LAN まわりの何か

- リピータ（物理層）：弱くなった信号波形を増幅し、伝送距離を延長する
- ブリッジ（データリンク層）：MAC アドレスをみて、同一ネットワーク内でデータを中継するネットワーク機器
  - MAC アドレス: アードウェアが工場から出荷されるとき、1 台 1 台にわりふられる 48bit の識別番号
- ルータ（ネットワーク層）：データ宛先の IP アドレスをみて、異なるネットワークへデータを中継するネットワーク機器
- ゲートウェイ：トランスポート層、セッション層、プレゼンテーション層、アプリケーション層といったようにプロトコルが異なるネットワーク同士を接続するネットワーク機器

## ARP と RARP（アープ、ラープ）

宛先までデータを届けるためには、相手端末の IP と MAC アドレスの両方が必要。  
片方がわかっていればもう片方を取得するプロトコルたちが ARP, RAPR.

- ARP:IP アドレスから MAC アドレスを取得する
- RARP:MAC アドレスから IP アドレスを取得する

# WAN

- ADSL: 上りより下りのほうが速い, 既存のアナログ電話回線を利用する
- CATV: 上りより下りのほうが速い, ケーブルテレビの回線を利用する
- FTTH: 光ファイバー回線を各家庭にひきこむ, 電話・ケーブルテレビ・インターネットを統合する通信サービス

## データ伝達速度

ビット毎秒 == bps

ex. 1 Mbps == 100 万ビットの伝送/秒
（追記　 1byte = 8bit)

あて先やエラーチェックのための制御情報などが付与されているので、  
送りたいものに対して 100%の伝送効率は実現できない

-> "回線利用率"を考える

## 誤り制御

電装系炉内において、電磁波などで信号が変わることがある -> ビット誤りが発生する

### ビット誤りのチェック方法

チェック方式：パリティチェック、ハミング符号形式、CRC

### パリティチェック（奇数パリティ、偶数パリティ）

ビット列の「1」の数が奇数（偶数）になるように、0 か 1 をビット列の最後に付け加える

偶数パリティの例

"0110000" -> 1 は 2 つあるね（偶数だね）->パリティブットとして、0 をつけくわえる

if ビット誤り:  
 "01100000"->"01110000"と変化した  
 ->偶数パリティしてるはずなのに"1"が奇数個あるね->矛盾してる  
 ->データ再送を要求する

if ビット誤りが 2bit 以上:  
 ->検出できないときがある  
 ->確実に検出できるのは、あやまりが 1bit のときだけ

### 垂直パリティ、水平パリティ、垂直水平パリティ

垂直パリティ；1 文字ごとにパリティを加える
水平パリティ：各文字の同じ位置に bit を 1 つのブロックとしてまとめたもの
そのブロックごとにパリティをつけくわえる
if 2bit 以上のあやまり:  
 検出が確定なのは、誤りが 1bit のときだけ

**計算問題として出題されることがおおいので要チェック**

### ハミング符号方式

同一データに対して、複数の方法でチェックコードをつける  
2bit, 1bit の誤り修正ができる

### CRC（巡回冗長検査）

ある生成多項式で割ったあまりを、チェックコードとしてつけくわえる方法  
バースト誤り、ランダム誤りを検出できる、信頼性が高い。
